<!DOCTYPE html>
<html lang="en">
	<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KOTA YATAGAI | å…«è°·èˆªå¤ª</title>
    <title>ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚©ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹</title><meta name="description" content="Font Access APIã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹" data-svelte="svelte-189on1m"><meta property="og:url" content="https://kota-yata.com" data-svelte="svelte-189on1m"><meta property="og:title" content="ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚©ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹" data-svelte="svelte-189on1m"><meta property="og:image" content="https://kota-yata.com/media/faapi.webp" data-svelte="svelte-189on1m"><meta property="og:description" content="Font Access APIã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹" data-svelte="svelte-189on1m"><meta name="twitter:card" content="summary_large_image" data-svelte="svelte-189on1m"><meta name="twitter:site" content="@kota_yata" data-svelte="svelte-189on1m">

		

		<link rel="modulepreload" href="/_app/start-daaae108.js">
		<link rel="modulepreload" href="/_app/chunks/vendor-495f2134.js">
		<link rel="modulepreload" href="/_app/pages/__layout.svelte-be316660.js">
		<link rel="modulepreload" href="/_app/chunks/index-6747d163.js">
		<link rel="modulepreload" href="/_app/pages/posts/_path_.svelte-2d94d26d.js">
		<link rel="modulepreload" href="/_app/chunks/page-7b278a70.js">
		<link rel="modulepreload" href="/_app/chunks/className-0b25377b.js">
		<link rel="stylesheet" href="/_app/assets/start-61d1577b.css">
		<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-0136ed43.css">
		<link rel="stylesheet" href="/_app/assets/app-d7359544.css">
		<link rel="stylesheet" href="/_app/assets/pages/posts/_path_.svelte-77f41461.css">
		<link rel="stylesheet" href="/_app/assets/page-da0bc829.css">

		<script type="module">
			import { start } from "/_app/start-daaae108.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":""},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/_app/pages/__layout.svelte-be316660.js"),
						import("/_app/pages/posts/_path_.svelte-2d94d26d.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "\u002Fposts\u002Ffaapi",
						query: new URLSearchParams(""),
						params: {path:"faapi"}
					}
				}
			});
		</script>
    <meta name="keyword" content="kota,yatagai,kota yatagai,å…«è°·èˆªå¤ª">
    <link rel="icon" href="/me.webp" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link defer
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
      rel="stylesheet">
    <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
      integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
    <link defer rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/a11y-dark.min.css"
      integrity="sha384-Mt8bPDNu0L2sVzon3+a8Rqtl4fmqaUmTPBEd/DTHiGFEQEFvf0fYLnU1DgK+ER2h" crossorigin="anonymous">
	</head>
	<body>
		<div id="svelte">


<header class="svelte-gbfwkw"><div class="left svelte-gbfwkw"><a href="/" class="svelte-gbfwkw">KOTA YATAGAI</a></div>
  <div class="right svelte-gbfwkw"><select name="language"><option value="JP">Japanese</option><option value="EN">English</option></select>
    <a href="/trip" sveltekit:prefetch class="svelte-gbfwkw"><img alt="to trip page" src="/airplane.svg" width="30px" height="30px"></a></div></header>

<main class="svelte-gbfwkw">
  

<div class="container svelte-izy1ym"><div class="profile svelte-izy1ym"><div class="container svelte-g32fgp"><img alt="myself" src="/me.webp" width="150px" height="150px" class="svelte-g32fgp">
  <div class="bio svelte-g32fgp"><h4 class="svelte-g32fgp">å…«è°·èˆªå¤ª</h4>
    <p class="svelte-g32fgp">18yo / ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…</p></div>
  <ul class="svelte-g32fgp"><li class="svelte-g32fgp"><a href="/" class="svelte-g32fgp">Home</a></li><li class="svelte-g32fgp"><a href="/about" class="svelte-g32fgp">About</a></li><li class="svelte-g32fgp"><a href="/works" class="svelte-g32fgp">Works</a></li><li class="svelte-g32fgp"><a href="/contacts" class="svelte-g32fgp">Contacts</a></li></ul>
  <div class="icons svelte-g32fgp"><a href="https://github.com/kota-yata" sveltekit:prefetch class="svelte-g32fgp"><img alt="icon" src="/github.svg" width="20px" height="20px"></a><a href="https://open.spotify.com/user/jgm80x9h1j84hnk4nv3hozlaf" sveltekit:prefetch class="svelte-g32fgp"><img alt="icon" src="/spotify.svg" width="20px" height="20px"></a><a href="https://twitter.com/kota_yata" sveltekit:prefetch class="svelte-g32fgp"><img alt="icon" src="/twitter.svg" width="20px" height="20px"></a><a href="https://speakerdeck.com/kota_yata/" sveltekit:prefetch class="svelte-g32fgp"><img alt="icon" src="/speakerdeck.svg" width="20px" height="20px"></a></div>
</div></div>
  <div class="slot svelte-izy1ym"><div class="info svelte-hf3o4"><h1 class="info-title svelte-hf3o4">ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚©ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹</h1>
    <span class="info-date svelte-hf3o4">2020-11-25</span>
    <span class="info-category programming svelte-hf3o4">Programming</span></div>
  <!-- HTML_TAG_START --><p>Chrome87ã‚ˆã‚Šãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’èª¿ã¹ã‚‹Font Access APIãŒOrigin Trialsã«å…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚æ­£ç›´ã“ã®APIã§ä½•ã‹ä½œã‚ã†ã¨ã¯æ€ã£ã¦ã„ã¾ã›ã‚“ãŒã€ã“ã®APIã‚’æ¬²ã™ã‚‹ã„ã¤ã®æ—¥ã‹ã®ãŸã‚ã«å°‘ã—èª¿ã¹ãŸã®ã§æ›¸ãæ®‹ã—ã¦ãŠãã¾ã™ã€‚</p>
<div class="message">
å…ˆè¿°ã®é€šã‚Šã“ã®APIã¯Chrome87~ä»¥å¤–ã®ç’°å¢ƒä¸‹ã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚æœ¬ç•ªç’°å¢ƒã§ä½¿ã£ã¦æ€’ã‚‰ã‚Œã¦ã‚‚çŸ¥ã‚Šã¾ã›ã‚“
</div>
<h1>Quick Start</h1>
<h2>Origin Trialsã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã™ã‚‹</h2>
<p>Origin Trialsã‚’åˆ©ç”¨ã—ãŸã“ã¨ãŒã‚ã‚‹æ–¹ã¯é£›ã°ã—ã¦å¤§ä¸ˆå¤«ã§ã™ã€‚<br>
ã¾ãšã¯<a href="chrome://flags/#font-access">Chrome Flagsã®Font Access API</a>ã‚’enableã«å¤‰æ›´ã—ã¾ã™ã€‚ãã®å¾Œ<a href="https://developers.chrome.com/origintrials/#/view_trial/-7289075996899147775">Origin Trialsãƒšãƒ¼ã‚¸ã®Local Font Access</a>ã‚’Registerã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒˆãƒ¼ã‚¯ãƒ³ãŒç™ºè¡Œã•ã‚Œã¾ã™ã®ã§</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;origin-trial&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ã“ã“ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚‹&quot;</span>&gt;</span>
</code></pre>
<p>ã“ã®metaã‚¿ã‚°ã‚’ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«æŒ¿å…¥ã—ã¾ã™ã€‚</p>
<h2>APIãŒä½¿ãˆã‚‹ã‹ã©ã†ã‹</h2>
<p>ã¾ãšã“ã®APIãŒä½¿ç”¨ã§ãã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚</p>
<pre><code class="language-javascript"><span class="hljs-keyword">if</span>(!<span class="hljs-string">&#x27;fonts&#x27;</span> <span class="hljs-keyword">in</span> navigator) <span class="hljs-keyword">return</span>;
<span class="hljs-keyword">const</span> status = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;font-access&quot;</span> });
  <span class="hljs-keyword">if</span> (status.<span class="hljs-property">state</span> === <span class="hljs-string">&quot;granted&quot;</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;permission was granted ğŸ‘&quot;</span>);
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status.<span class="hljs-property">state</span> === <span class="hljs-string">&quot;prompt&quot;</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;permission will be requested&quot;</span>);
  <span class="hljs-keyword">else</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;permission was denied ğŸ‘&quot;</span>);
</code></pre>
<p>Chrome87ä»¥ä¸Šã§ã‚ã‚Œã°å•é¡Œã‚ã‚Šã¾ã›ã‚“ãŒãã†ã§ãªã„ãƒ–ãƒ©ã‚¦ã‚¶ã®å ´åˆã¯ä»–ã®å‡¦ç†ã§ä»£ç”¨ã™ã‚‹ã—ã‹ãªã„ã§ã—ã‚‡ã†ã€‚</p>
<h2>ãƒ•ã‚©ãƒ³ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã™ã‚‹</h2>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> iterableFontObject = navigator.<span class="hljs-property">fonts</span>.<span class="hljs-title function_">query</span>();
</code></pre>
<p>ã“ã®å¤‰æ•°ã«ã¯éåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿(<a href="https://ja.javascript.info/async-iterators-generators">Asynchronous Iterator</a>)ãŒä»£å…¥ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Š<code>for await of</code>ã§ã‚¤ãƒ†ãƒ¬ãƒ¼ãƒˆå‡¦ç†ãŒã§ãã‚‹ã‚ã‘ã§ã™ã€‚</p>
<h2>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹</h2>
<pre><code class="language-javascript"><span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> metadata <span class="hljs-keyword">of</span> iterableFontObject) {
  <span class="hljs-keyword">const</span> fontFamily = metadata.<span class="hljs-property">family</span>; <span class="hljs-comment">// e.g.ComicSansMS</span>
  <span class="hljs-keyword">const</span> postscriptName = metadata.<span class="hljs-property">postscriptName</span>; <span class="hljs-comment">// e.g.Comic Sans MS</span>
  <span class="hljs-keyword">const</span> fullName = metadata.<span class="hljs-property">fullName</span>; <span class="hljs-comment">// e.g.Comic Sans MS</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fontFamily, postscriptName, fullName);
}
</code></pre>
<p>ç¾çŠ¶æ–‡å­—åˆ—ã¨ã—ã¦å–å¾—ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ã“ã®3ã¤ã®ã‚ˆã†ã§ã™ã€‚postscriptNameã¯ç¢ºå®Ÿã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ã§ã€OpenTypeãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãªãã¦ã‚‚UserAgentãŒã‚ˆã—ãªã«å°å‡ºã—ã¦ãã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚<br>
éåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯<code>Object.keys().length</code>ã§ã¯ãƒ•ã‚©ãƒ³ãƒˆæ•°ã®ç®—å‡ºã¯ã§ããªã„ã®ã§ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ãƒˆã¤ã„ã§ã«æ•°ãˆã¦ãŠãã®ãŒä¸€ç•ªæ‰‹ã£å–ã‚Šæ—©ã„ã‹ã¨ã€‚</p>
<h1>SFNTãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹</h1>
<p><code>blob()</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚Œã°sfntã«ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚sfntãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ä½•ãŒå¬‰ã—ã„ã®ã‹ã¨ã„ã†ã¨ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€PostScript, TrueType, OpenType, WOFFãªã©ãŒå¾—ã‚‰ã‚Œã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚ã“ã‚Œã«é–¢ã—ã¦ã¯ã¾ã˜ã§ä½¿ã„é“ãŒåˆ†ã‹ã‚‰ã‚“ã€‚ã¨ã‚Šã‚ãˆãšå®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚</p>
<h2>SFNTãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã™ã‚‹</h2>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> fonts = navigator.<span class="hljs-property">fonts</span>.<span class="hljs-title function_">query</span>();
<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> metadata <span class="hljs-keyword">of</span> fonts) {
  <span class="hljs-keyword">const</span> sfnt = <span class="hljs-keyword">await</span> metadata.<span class="hljs-title function_">blob</span>();
  <span class="hljs-keyword">const</span> sfntVersion = (<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>).<span class="hljs-title function_">decode</span>(
    <span class="hljs-keyword">await</span> sfnt.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>).<span class="hljs-title function_">arrayBuffer</span>()
  );
}
</code></pre>
<p><code>blob()</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§Blobå‹ã®ãƒã‚¤ãƒŠãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚ã©ã†ã‚„ã‚‰ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã¦ã€æœ€åˆã®4ãƒã‚¤ãƒˆã‚’å–å¾—ã™ã‚‹ã¨SFNTãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã§ãã‚‹ã‚‰ã—ã„ã§ã™ã€‚ã™ã’ãƒ¼ã€‚è©³ã—ãã¯<a href="https://docs.microsoft.com/en-us/typography/opentype/spec/otff#organization-of-an-opentype-font">MSã®ä»•æ§˜æ›¸</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<p>ãŸã ã“ã®ã¾ã¾ã§ã¯ãªã‚“ã®ãƒ‡ãƒ¼ã‚¿ã‹åˆ†ã‹ã‚‰ãªã„ã®ã§æ‹¡å¼µå­å½¢å¼ã«å¤‰æ›ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p>
<pre><code class="language-javascript"><span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> metadata <span class="hljs-keyword">of</span> fonts) {
  <span class="hljs-keyword">let</span> outlineFormat = <span class="hljs-string">&#x27;UNKNOWN&#x27;</span>;
  <span class="hljs-keyword">switch</span> (sfntVersion) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\x00\x01\x00\x00&#x27;</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;true&#x27;</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;typ1&#x27;</span>:
      outlineFormat = <span class="hljs-string">&#x27;.ttf&#x27;</span>;
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;OTTO&#x27;</span>:
      outlineFormat = <span class="hljs-string">&#x27;.cff&#x27;</span>;
      <span class="hljs-keyword">break</span>;
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Format Extension:&#x27;</span>, outlineFormat, metadata.<span class="hljs-property">family</span>);
}
</code></pre>
<p>ç¾åœ¨Appleã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã¯TrueType(.ttf)ã‹Postscript(.cff)ã®ã©ã¡ã‚‰ã‹ãªã®ã§ã€ãã‚Œã«åˆã‚ã›ã¦SFNTãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’çµã£ã¦ã„ãã¾ã™ã€‚ã“ã‚Œã¾ã˜ã§ä½•ã«ä½¿ã†ã‚“ã ã‚ã†ã‹ã€‚</p>
<h1>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æ‡¸å¿µã¨å¯¾ç­–</h1>
<p>æœ€è¿‘<a href="https://zenn.dev/kota_yata/articles/6baecf59f0b3a39ea5a6">File System Access API</a>ãªã©ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹APIãŒå¢—ãˆã¦ã„ã¾ã™ãŒã€ã‚„ã¯ã‚Šæ€–ã„ã®ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã§ã™ã€‚</p>
<h2>ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆå¯¾ç­–</h2>
<p>Font Access APIã¯å–å¾—ã—ãŸãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«ã‚½ãƒ¼ãƒˆã—ã¦è¿”ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸé †ç•ªã®ã¾ã¾ãƒ•ã‚©ãƒ³ãƒˆã®ãƒªã‚¹ãƒˆã‚’è¿”ã—ã¦ã—ã¾ã†ã¨ã€ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆã«åˆ©ç”¨ã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è­˜åˆ¥ã«ä½¿ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã‹ã‚‰ã§ã™ã€‚æ•°ç™¾ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’å…¨ãåŒã˜é †ç•ªã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã©ãã†ã„ãªã„ã§ã™ã‹ã‚‰ã­ã€‚</p>
<h2>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ </h2>
<p>æœ€åˆã®æ–¹ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®éƒ¨åˆ†ãŒã“ã‚Œã§ã™ã€‚ãƒ¡ã‚¿ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ãªã„é™ã‚Šä½¿ç”¨ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§APIã®æ¿«ç”¨ã‚’é˜²ã„ã§ã„ã¾ã™ã€‚<br>
<a href="https://chromium.googlesource.com/chromium/src/+/lkgr/docs/security/permissions-for-powerful-web-platform-features.md">https://chromium.googlesource.com/chromium/src/+/lkgr/docs/security/permissions-for-powerful-web-platform-features.md</a></p>
<p>(ã“ã®è¨˜äº‹ã§ã‚‚å…ˆè¿°ã®File System Access APIãŒã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã¨ã—ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™)<br>
ãŸã ã€æœ€åˆã«ãƒ¡ã‚¿ã‚¿ã‚°ãªã—ã§ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ç¢ºèªã‚‚ãªã—ã§å®Ÿè¡Œã—ã¦ã¿ãŸã¨ã“ã‚æ™®é€šã«å‹•ã„ã¦ã—ã¾ã£ãŸã®ã§ã€ç­†è€…ã‚‚???ã¨ãªã£ã¦ã„ã‚‹ã¨ã“ã‚ã§ã™ã€‚</p>
<h2>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Ÿè¡Œå‹•ä½œ</h2>
<p>å®Ÿã¯ã“ã®APIã¯ä»Šã¾ã§ã®ã‚³ãƒ¼ãƒ‰ã‚’éåŒæœŸå³æ™‚é–¢æ•°ã«å…¥ã‚ŒãŸã ã‘ã§ã¯å‹•ãã¾ã›ã‚“ã€‚ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‰è‡ªå‹•çš„ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’è¨±å¯ã™ã‚‹ã¨å¤§æŠµè‰¯ã„ã“ã¨ã¯ãªã„ã®ã§ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã€ä½•ã‹ã®ã‚­ãƒ¼ã‚’æ‰“ã¤ãªã©ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªã‚‰å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã—ã‹å‹•ã‹ãªã„ã‚ˆã†ãªä»•æ§˜ã«ãªã£ã¦ã„ã¾ã™ã€‚(e.g.<code>~.addEventListner()</code>)</p>
<h2>ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è¡¨ç¤º</h2>
<p>ã“ã®APIã‚’å®Ÿè¡Œã™ã‚‹å‹•ä½œã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¡Œã†ã¨ã€<br>
<img src="https://storage.googleapis.com/zenn-user-upload/m5dz76ntrrdeq4zio8x31iyt8xao" alt="dialog"><br>
ã“ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ä»–ã®ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹APIã§ã‚‚åŒæ§˜ã®ä»•æ§˜ã®ã‚‚ã®ãŒå¤šã„ã§ã™ã€‚</p>
<h1>ãƒ‡ãƒ¢ã¨ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</h1>
<p>Chromeã®WebDevãƒãƒ¼ãƒ ãŒGlitchã«ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã¨ã‚³ãƒ¼ãƒ‰ã‚’å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚</p>
<p><a href="https://local-font-access.glitch.me/demo/">https://local-font-access.glitch.me/demo/</a></p>
<p>ã»ã¼ä¼¼ãŸã‚ˆã†ãªã‚‚ã®ã§ã™ãŒåƒ•ã®æ›¸ã„ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚æŠ•ã’ã¦ãŠãã¾ã™ã€‚</p>
<h4>Quick Startã®æ–¹</h4>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">AccessFont</span> = <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> status = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;font-access&quot;</span> });
  <span class="hljs-keyword">if</span> (status.<span class="hljs-property">state</span> === <span class="hljs-string">&quot;granted&quot;</span>){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;permission was granted ğŸ‘&quot;</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status.<span class="hljs-property">state</span> === <span class="hljs-string">&quot;prompt&quot;</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;permission will be requested&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;permission was denied ğŸ‘&quot;</span>);
  }
  <span class="hljs-keyword">const</span> iterableFontObject = navigator.<span class="hljs-property">fonts</span>.<span class="hljs-title function_">query</span>();
  <span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> metadata <span class="hljs-keyword">of</span> iterableFontObject) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(metadata.<span class="hljs-property">fullName</span>);
    total++;
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Total number of local fonts : <span class="hljs-subst">${total}</span>`</span>);
}
<span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;test&quot;</span>);
button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-title class_">AccessFont</span>); <span class="hljs-comment">// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‹•ä½œãŒãªã„ã¨å‹•ã‹ã›ãªã„</span>
</code></pre>
<h4>SFNTã‚¢ã‚¯ã‚»ã‚¹ã®æ–¹</h4>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Access</span>SFNT = <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> fonts = navigator.<span class="hljs-property">fonts</span>.<span class="hljs-title function_">query</span>();
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> metadata <span class="hljs-keyword">of</span> fonts) {
    <span class="hljs-keyword">const</span> sfnt = <span class="hljs-keyword">await</span> metadata.<span class="hljs-title function_">blob</span>();
    <span class="hljs-keyword">const</span> sfntVersion = (<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>).<span class="hljs-title function_">decode</span>(
      <span class="hljs-keyword">await</span> sfnt.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>).<span class="hljs-title function_">arrayBuffer</span>()
    );
    <span class="hljs-keyword">let</span> outlineFormat = <span class="hljs-string">&#x27;UNKNOWN&#x27;</span>;
    <span class="hljs-keyword">switch</span> (sfntVersion) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\x00\x01\x00\x00&#x27;</span>:
      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;true&#x27;</span>:
      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;typ1&#x27;</span>:
        outlineFormat = <span class="hljs-string">&#x27;.ttf&#x27;</span>;
	<span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;OTTO&#x27;</span>:
        outlineFormat = <span class="hljs-string">&#x27;.cff&#x27;</span>;
        <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Format Extension:&#x27;</span>, outlineFormat, metadata.<span class="hljs-property">family</span>);
  }
}
<span class="hljs-keyword">const</span> access = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;access&quot;</span>);
access.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-title class_">Access</span>SFNT); <span class="hljs-comment">// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‹•ä½œãŒãªã„ã¨å‹•ã‹ã›ãªã„</span>
</code></pre>
<h1>çµ‚ã‚ã‚Šã«</h1>
<p>æœ€åˆã«è¨˜äº‹ã‚’æ›¸ã„ãŸã¨ãã¯æœ¬æ°—ã§ä½•ã«ä½¿ã†ã®ã‹åˆ†ã‹ã‚‰ãªã„APIã§ã—ãŸãŒã€ã©ã†ã‚„ã‚‰Figmaã¨ã‹ãã®ä»–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€CADã«ç‰¹åŒ–ã—ãŸãƒ•ã‚©ãƒ³ãƒˆã‚’Webã§ä½¿ã†éš›ã«å½¹ç«‹ã¤ã‚ˆã†ã§ã™ã€‚</p>
<blockquote>
<p>Bringing design apps like Figma, Gravit, and Photopea, to the web is great.<br>
For example, corporate logo fonts, or specialized fonts for CAD and other design applications.</p>
</blockquote>
<p><a href="https://developers.google.com/web/updates/2020/11/nic87#font-access">https://developers.google.com/web/updates/2020/11/nic87#font-access</a></p>
<h3>å‚è€ƒæ–‡çŒ®</h3>
<p><a href="https://wicg.github.io/local-font-access/#current-language">WICGä»•æ§˜æ›¸</a></p>
<p><a href="https://web.dev/local-fonts/">Web.devãƒãƒ¼ãƒ ãƒ–ãƒ­ã‚°(æœ€åˆã«èª­ã‚€ãªã‚‰ã“ã‚Œ)</a></p>
<p><a href="https://glitch.com/~local-font-access">Web.devãƒãƒ¼ãƒ Glitchãƒ‡ãƒ¢</a></p>
<p><a href="https://developers.google.com/web/updates/2020/11/nic87">Chrome87ã®æ–°æ©Ÿèƒ½ã¾ã¨ã‚(å…¬å¼)</a></p>
<p><a href="https://www.chromestatus.com/feature/6234451761692672">Chrome Platform Status</a></p>
<p><a href="https://chromium.googlesource.com/chromium/src/+/lkgr/docs/security/permissions-for-powerful-web-platform-features.md">APIã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹Chromeã®æ–‡çŒ®</a></p>
<p><a href="https://nixeneko.hatenablog.com/entry/2018/06/20/000000">https://nixeneko.hatenablog.com/entry/2018/06/20/000000</a></p>
<!-- HTML_TAG_END -->
  <div class="share svelte-hf3o4"><a class="share-twitter svelte-hf3o4" target="blank"><img alt="Twitter share button" src="/twitter.svg" width="25px" height="25px"></a>
    <a class="share-pocket svelte-hf3o4" target="blank"><img alt="Pocket share button" src="/pocket.svg" width="25px" height="25px"></a>
    <a class="share-instapaper svelte-hf3o4" target="blank"><img alt="InstaPaper share button" src="/instapaper.svg" width="25px"></a></div></div>
</div></main>

<footer class="svelte-gbfwkw">@ 2021 Kota Yatagai</footer>



			<script type="application/json" data-type="svelte-data" data-url="/posts/faapi.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"{\"meta\":{\"title\":\"ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚©ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹\",\"date\":\"2020-11-25\",\"category\":\"Programming\",\"description\":\"Font Access APIã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹\",\"ogp\":\"\u002Fmedia\u002Ffaapi.webp\"},\"body\":\"\u003Cp\u003EChrome87ã‚ˆã‚Šãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’èª¿ã¹ã‚‹Font Access APIãŒOrigin Trialsã«å…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚æ­£ç›´ã“ã®APIã§ä½•ã‹ä½œã‚ã†ã¨ã¯æ€ã£ã¦ã„ã¾ã›ã‚“ãŒã€ã“ã®APIã‚’æ¬²ã™ã‚‹ã„ã¤ã®æ—¥ã‹ã®ãŸã‚ã«å°‘ã—èª¿ã¹ãŸã®ã§æ›¸ãæ®‹ã—ã¦ãŠãã¾ã™ã€‚\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"message\\\"\u003E\\nå…ˆè¿°ã®é€šã‚Šã“ã®APIã¯Chrome87~ä»¥å¤–ã®ç’°å¢ƒä¸‹ã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚æœ¬ç•ªç’°å¢ƒã§ä½¿ã£ã¦æ€’ã‚‰ã‚Œã¦ã‚‚çŸ¥ã‚Šã¾ã›ã‚“\\n\u003C\u002Fdiv\u003E\\n\u003Ch1\u003EQuick Start\u003C\u002Fh1\u003E\\n\u003Ch2\u003EOrigin Trialsã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã™ã‚‹\u003C\u002Fh2\u003E\\n\u003Cp\u003EOrigin Trialsã‚’åˆ©ç”¨ã—ãŸã“ã¨ãŒã‚ã‚‹æ–¹ã¯é£›ã°ã—ã¦å¤§ä¸ˆå¤«ã§ã™ã€‚\u003Cbr\u003E\\nã¾ãšã¯\u003Ca href=\\\"chrome:\u002F\u002Fflags\u002F#font-access\\\"\u003EChrome Flagsã®Font Access API\u003C\u002Fa\u003Eã‚’enableã«å¤‰æ›´ã—ã¾ã™ã€‚ãã®å¾Œ\u003Ca href=\\\"https:\u002F\u002Fdevelopers.chrome.com\u002Forigintrials\u002F#\u002Fview_trial\u002F-7289075996899147775\\\"\u003EOrigin Trialsãƒšãƒ¼ã‚¸ã®Local Font Access\u003C\u002Fa\u003Eã‚’Registerã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒˆãƒ¼ã‚¯ãƒ³ãŒç™ºè¡Œã•ã‚Œã¾ã™ã®ã§\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-html\\\"\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&lt;\u003Cspan class=\\\"hljs-name\\\"\u003Emeta\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Ehttp-equiv\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;origin-trial&quot;\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Econtent\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;ã“ã“ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚‹&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003Eã“ã®metaã‚¿ã‚°ã‚’ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«æŒ¿å…¥ã—ã¾ã™ã€‚\u003C\u002Fp\u003E\\n\u003Ch2\u003EAPIãŒä½¿ãˆã‚‹ã‹ã©ã†ã‹\u003C\u002Fh2\u003E\\n\u003Cp\u003Eã¾ãšã“ã®APIãŒä½¿ç”¨ã§ãã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-javascript\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E(!\u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;fonts&#x27;\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Ein\u003C\u002Fspan\u003E navigator) \u003Cspan class=\\\"hljs-keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E;\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E status = \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E navigator.\u003Cspan class=\\\"hljs-property\\\"\u003Epermissions\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Equery\u003C\u002Fspan\u003E({ \u003Cspan class=\\\"hljs-attr\\\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;font-access&quot;\u003C\u002Fspan\u003E });\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (status.\u003Cspan class=\\\"hljs-property\\\"\u003Estate\u003C\u002Fspan\u003E === \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;granted&quot;\u003C\u002Fspan\u003E)\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;permission was granted ğŸ‘&quot;\u003C\u002Fspan\u003E);\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (status.\u003Cspan class=\\\"hljs-property\\\"\u003Estate\u003C\u002Fspan\u003E === \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;prompt&quot;\u003C\u002Fspan\u003E)\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;permission will be requested&quot;\u003C\u002Fspan\u003E);\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eelse\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;permission was denied ğŸ‘&quot;\u003C\u002Fspan\u003E);\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EChrome87ä»¥ä¸Šã§ã‚ã‚Œã°å•é¡Œã‚ã‚Šã¾ã›ã‚“ãŒãã†ã§ãªã„ãƒ–ãƒ©ã‚¦ã‚¶ã®å ´åˆã¯ä»–ã®å‡¦ç†ã§ä»£ç”¨ã™ã‚‹ã—ã‹ãªã„ã§ã—ã‚‡ã†ã€‚\u003C\u002Fp\u003E\\n\u003Ch2\u003Eãƒ•ã‚©ãƒ³ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã™ã‚‹\u003C\u002Fh2\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-javascript\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E iterableFontObject = navigator.\u003Cspan class=\\\"hljs-property\\\"\u003Efonts\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Equery\u003C\u002Fspan\u003E();\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003Eã“ã®å¤‰æ•°ã«ã¯éåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿(\u003Ca href=\\\"https:\u002F\u002Fja.javascript.info\u002Fasync-iterators-generators\\\"\u003EAsynchronous Iterator\u003C\u002Fa\u003E)ãŒä»£å…¥ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Š\u003Ccode\u003Efor await of\u003C\u002Fcode\u003Eã§ã‚¤ãƒ†ãƒ¬ãƒ¼ãƒˆå‡¦ç†ãŒã§ãã‚‹ã‚ã‘ã§ã™ã€‚\u003C\u002Fp\u003E\\n\u003Ch2\u003Eãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹\u003C\u002Fh2\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-javascript\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E metadata \u003Cspan class=\\\"hljs-keyword\\\"\u003Eof\u003C\u002Fspan\u003E iterableFontObject) {\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E fontFamily = metadata.\u003Cspan class=\\\"hljs-property\\\"\u003Efamily\u003C\u002Fspan\u003E; \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F e.g.ComicSansMS\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E postscriptName = metadata.\u003Cspan class=\\\"hljs-property\\\"\u003EpostscriptName\u003C\u002Fspan\u003E; \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F e.g.Comic Sans MS\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E fullName = metadata.\u003Cspan class=\\\"hljs-property\\\"\u003EfullName\u003C\u002Fspan\u003E; \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F e.g.Comic Sans MS\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(fontFamily, postscriptName, fullName);\\n}\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003Eç¾çŠ¶æ–‡å­—åˆ—ã¨ã—ã¦å–å¾—ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ã“ã®3ã¤ã®ã‚ˆã†ã§ã™ã€‚postscriptNameã¯ç¢ºå®Ÿã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ã§ã€OpenTypeãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãªãã¦ã‚‚UserAgentãŒã‚ˆã—ãªã«å°å‡ºã—ã¦ãã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚\u003Cbr\u003E\\néåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯\u003Ccode\u003EObject.keys().length\u003C\u002Fcode\u003Eã§ã¯ãƒ•ã‚©ãƒ³ãƒˆæ•°ã®ç®—å‡ºã¯ã§ããªã„ã®ã§ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ãƒˆã¤ã„ã§ã«æ•°ãˆã¦ãŠãã®ãŒä¸€ç•ªæ‰‹ã£å–ã‚Šæ—©ã„ã‹ã¨ã€‚\u003C\u002Fp\u003E\\n\u003Ch1\u003ESFNTãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹\u003C\u002Fh1\u003E\\n\u003Cp\u003E\u003Ccode\u003Eblob()\u003C\u002Fcode\u003Eãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚Œã°sfntã«ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚sfntãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ä½•ãŒå¬‰ã—ã„ã®ã‹ã¨ã„ã†ã¨ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€PostScript, TrueType, OpenType, WOFFãªã©ãŒå¾—ã‚‰ã‚Œã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚ã“ã‚Œã«é–¢ã—ã¦ã¯ã¾ã˜ã§ä½¿ã„é“ãŒåˆ†ã‹ã‚‰ã‚“ã€‚ã¨ã‚Šã‚ãˆãšå®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\u003C\u002Fp\u003E\\n\u003Ch2\u003ESFNTãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã™ã‚‹\u003C\u002Fh2\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-javascript\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E fonts = navigator.\u003Cspan class=\\\"hljs-property\\\"\u003Efonts\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Equery\u003C\u002Fspan\u003E();\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E metadata \u003Cspan class=\\\"hljs-keyword\\\"\u003Eof\u003C\u002Fspan\u003E fonts) {\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E sfnt = \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E metadata.\u003Cspan class=\\\"hljs-title function_\\\"\u003Eblob\u003C\u002Fspan\u003E();\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E sfntVersion = (\u003Cspan class=\\\"hljs-keyword\\\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title class_\\\"\u003ETextDecoder\u003C\u002Fspan\u003E).\u003Cspan class=\\\"hljs-title function_\\\"\u003Edecode\u003C\u002Fspan\u003E(\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E sfnt.\u003Cspan class=\\\"hljs-title function_\\\"\u003Eslice\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E4\u003C\u002Fspan\u003E).\u003Cspan class=\\\"hljs-title function_\\\"\u003EarrayBuffer\u003C\u002Fspan\u003E()\\n  );\\n}\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003E\u003Ccode\u003Eblob()\u003C\u002Fcode\u003Eãƒ¡ã‚½ãƒƒãƒ‰ã§Blobå‹ã®ãƒã‚¤ãƒŠãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚ã©ã†ã‚„ã‚‰ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã¦ã€æœ€åˆã®4ãƒã‚¤ãƒˆã‚’å–å¾—ã™ã‚‹ã¨SFNTãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã§ãã‚‹ã‚‰ã—ã„ã§ã™ã€‚ã™ã’ãƒ¼ã€‚è©³ã—ãã¯\u003Ca href=\\\"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Ftypography\u002Fopentype\u002Fspec\u002Fotff#organization-of-an-opentype-font\\\"\u003EMSã®ä»•æ§˜æ›¸\u003C\u002Fa\u003Eã‚’ã”è¦§ãã ã•ã„ã€‚\u003C\u002Fp\u003E\\n\u003Cp\u003EãŸã ã“ã®ã¾ã¾ã§ã¯ãªã‚“ã®ãƒ‡ãƒ¼ã‚¿ã‹åˆ†ã‹ã‚‰ãªã„ã®ã§æ‹¡å¼µå­å½¢å¼ã«å¤‰æ›ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-javascript\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E metadata \u003Cspan class=\\\"hljs-keyword\\\"\u003Eof\u003C\u002Fspan\u003E fonts) {\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Elet\u003C\u002Fspan\u003E outlineFormat = \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;UNKNOWN&#x27;\u003C\u002Fspan\u003E;\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eswitch\u003C\u002Fspan\u003E (sfntVersion) {\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;\\\\x00\\\\x01\\\\x00\\\\x00&#x27;\u003C\u002Fspan\u003E:\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;true&#x27;\u003C\u002Fspan\u003E:\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;typ1&#x27;\u003C\u002Fspan\u003E:\\n      outlineFormat = \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;.ttf&#x27;\u003C\u002Fspan\u003E;\\n      \u003Cspan class=\\\"hljs-keyword\\\"\u003Ebreak\u003C\u002Fspan\u003E;\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;OTTO&#x27;\u003C\u002Fspan\u003E:\\n      outlineFormat = \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;.cff&#x27;\u003C\u002Fspan\u003E;\\n      \u003Cspan class=\\\"hljs-keyword\\\"\u003Ebreak\u003C\u002Fspan\u003E;\\n  }\\n  \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;Format Extension:&#x27;\u003C\u002Fspan\u003E, outlineFormat, metadata.\u003Cspan class=\\\"hljs-property\\\"\u003Efamily\u003C\u002Fspan\u003E);\\n}\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003Eç¾åœ¨Appleã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã¯TrueType(.ttf)ã‹Postscript(.cff)ã®ã©ã¡ã‚‰ã‹ãªã®ã§ã€ãã‚Œã«åˆã‚ã›ã¦SFNTãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’çµã£ã¦ã„ãã¾ã™ã€‚ã“ã‚Œã¾ã˜ã§ä½•ã«ä½¿ã†ã‚“ã ã‚ã†ã‹ã€‚\u003C\u002Fp\u003E\\n\u003Ch1\u003Eã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æ‡¸å¿µã¨å¯¾ç­–\u003C\u002Fh1\u003E\\n\u003Cp\u003Eæœ€è¿‘\u003Ca href=\\\"https:\u002F\u002Fzenn.dev\u002Fkota_yata\u002Farticles\u002F6baecf59f0b3a39ea5a6\\\"\u003EFile System Access API\u003C\u002Fa\u003Eãªã©ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹APIãŒå¢—ãˆã¦ã„ã¾ã™ãŒã€ã‚„ã¯ã‚Šæ€–ã„ã®ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã§ã™ã€‚\u003C\u002Fp\u003E\\n\u003Ch2\u003Eãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆå¯¾ç­–\u003C\u002Fh2\u003E\\n\u003Cp\u003EFont Access APIã¯å–å¾—ã—ãŸãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«ã‚½ãƒ¼ãƒˆã—ã¦è¿”ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸé †ç•ªã®ã¾ã¾ãƒ•ã‚©ãƒ³ãƒˆã®ãƒªã‚¹ãƒˆã‚’è¿”ã—ã¦ã—ã¾ã†ã¨ã€ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆã«åˆ©ç”¨ã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è­˜åˆ¥ã«ä½¿ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã‹ã‚‰ã§ã™ã€‚æ•°ç™¾ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’å…¨ãåŒã˜é †ç•ªã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã©ãã†ã„ãªã„ã§ã™ã‹ã‚‰ã­ã€‚\u003C\u002Fp\u003E\\n\u003Ch2\u003Eãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ \u003C\u002Fh2\u003E\\n\u003Cp\u003Eæœ€åˆã®æ–¹ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®éƒ¨åˆ†ãŒã“ã‚Œã§ã™ã€‚ãƒ¡ã‚¿ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ãªã„é™ã‚Šä½¿ç”¨ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§APIã®æ¿«ç”¨ã‚’é˜²ã„ã§ã„ã¾ã™ã€‚\u003Cbr\u003E\\n\u003Ca href=\\\"https:\u002F\u002Fchromium.googlesource.com\u002Fchromium\u002Fsrc\u002F+\u002Flkgr\u002Fdocs\u002Fsecurity\u002Fpermissions-for-powerful-web-platform-features.md\\\"\u003Ehttps:\u002F\u002Fchromium.googlesource.com\u002Fchromium\u002Fsrc\u002F+\u002Flkgr\u002Fdocs\u002Fsecurity\u002Fpermissions-for-powerful-web-platform-features.md\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E(ã“ã®è¨˜äº‹ã§ã‚‚å…ˆè¿°ã®File System Access APIãŒã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã¨ã—ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™)\u003Cbr\u003E\\nãŸã ã€æœ€åˆã«ãƒ¡ã‚¿ã‚¿ã‚°ãªã—ã§ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ç¢ºèªã‚‚ãªã—ã§å®Ÿè¡Œã—ã¦ã¿ãŸã¨ã“ã‚æ™®é€šã«å‹•ã„ã¦ã—ã¾ã£ãŸã®ã§ã€ç­†è€…ã‚‚???ã¨ãªã£ã¦ã„ã‚‹ã¨ã“ã‚ã§ã™ã€‚\u003C\u002Fp\u003E\\n\u003Ch2\u003Eãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Ÿè¡Œå‹•ä½œ\u003C\u002Fh2\u003E\\n\u003Cp\u003Eå®Ÿã¯ã“ã®APIã¯ä»Šã¾ã§ã®ã‚³ãƒ¼ãƒ‰ã‚’éåŒæœŸå³æ™‚é–¢æ•°ã«å…¥ã‚ŒãŸã ã‘ã§ã¯å‹•ãã¾ã›ã‚“ã€‚ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‰è‡ªå‹•çš„ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’è¨±å¯ã™ã‚‹ã¨å¤§æŠµè‰¯ã„ã“ã¨ã¯ãªã„ã®ã§ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã€ä½•ã‹ã®ã‚­ãƒ¼ã‚’æ‰“ã¤ãªã©ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªã‚‰å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã—ã‹å‹•ã‹ãªã„ã‚ˆã†ãªä»•æ§˜ã«ãªã£ã¦ã„ã¾ã™ã€‚(e.g.\u003Ccode\u003E~.addEventListner()\u003C\u002Fcode\u003E)\u003C\u002Fp\u003E\\n\u003Ch2\u003Eç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è¡¨ç¤º\u003C\u002Fh2\u003E\\n\u003Cp\u003Eã“ã®APIã‚’å®Ÿè¡Œã™ã‚‹å‹•ä½œã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¡Œã†ã¨ã€\u003Cbr\u003E\\n\u003Cimg src=\\\"https:\u002F\u002Fstorage.googleapis.com\u002Fzenn-user-upload\u002Fm5dz76ntrrdeq4zio8x31iyt8xao\\\" alt=\\\"dialog\\\"\u003E\u003Cbr\u003E\\nã“ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ä»–ã®ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹APIã§ã‚‚åŒæ§˜ã®ä»•æ§˜ã®ã‚‚ã®ãŒå¤šã„ã§ã™ã€‚\u003C\u002Fp\u003E\\n\u003Ch1\u003Eãƒ‡ãƒ¢ã¨ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰\u003C\u002Fh1\u003E\\n\u003Cp\u003EChromeã®WebDevãƒãƒ¼ãƒ ãŒGlitchã«ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã¨ã‚³ãƒ¼ãƒ‰ã‚’å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Flocal-font-access.glitch.me\u002Fdemo\u002F\\\"\u003Ehttps:\u002F\u002Flocal-font-access.glitch.me\u002Fdemo\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003Eã»ã¼ä¼¼ãŸã‚ˆã†ãªã‚‚ã®ã§ã™ãŒåƒ•ã®æ›¸ã„ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚æŠ•ã’ã¦ãŠãã¾ã™ã€‚\u003C\u002Fp\u003E\\n\u003Ch4\u003EQuick Startã®æ–¹\u003C\u002Fh4\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-javascript\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title class_\\\"\u003EAccessFont\u003C\u002Fspan\u003E = \u003Cspan class=\\\"hljs-keyword\\\"\u003Easync\u003C\u002Fspan\u003E () =&gt; {\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E status = \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E navigator.\u003Cspan class=\\\"hljs-property\\\"\u003Epermissions\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Equery\u003C\u002Fspan\u003E({ \u003Cspan class=\\\"hljs-attr\\\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;font-access&quot;\u003C\u002Fspan\u003E });\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (status.\u003Cspan class=\\\"hljs-property\\\"\u003Estate\u003C\u002Fspan\u003E === \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;granted&quot;\u003C\u002Fspan\u003E){\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;permission was granted ğŸ‘&quot;\u003C\u002Fspan\u003E);\\n  } \u003Cspan class=\\\"hljs-keyword\\\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (status.\u003Cspan class=\\\"hljs-property\\\"\u003Estate\u003C\u002Fspan\u003E === \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;prompt&quot;\u003C\u002Fspan\u003E) {\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;permission will be requested&quot;\u003C\u002Fspan\u003E);\\n  } \u003Cspan class=\\\"hljs-keyword\\\"\u003Eelse\u003C\u002Fspan\u003E {\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;permission was denied ğŸ‘&quot;\u003C\u002Fspan\u003E);\\n  }\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E iterableFontObject = navigator.\u003Cspan class=\\\"hljs-property\\\"\u003Efonts\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Equery\u003C\u002Fspan\u003E();\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Elet\u003C\u002Fspan\u003E total = \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E;\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E metadata \u003Cspan class=\\\"hljs-keyword\\\"\u003Eof\u003C\u002Fspan\u003E iterableFontObject) {\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(metadata.\u003Cspan class=\\\"hljs-property\\\"\u003EfullName\u003C\u002Fspan\u003E);\\n    total++;\\n  }\\n  \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E`Total number of local fonts : \u003Cspan class=\\\"hljs-subst\\\"\u003E${total}\u003C\u002Fspan\u003E`\u003C\u002Fspan\u003E);\\n}\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E button = \u003Cspan class=\\\"hljs-variable language_\\\"\u003Edocument\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003EgetElementById\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;test&quot;\u003C\u002Fspan\u003E);\\nbutton.\u003Cspan class=\\\"hljs-title function_\\\"\u003EaddEventListener\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;click&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-title class_\\\"\u003EAccessFont\u003C\u002Fspan\u003E); \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‹•ä½œãŒãªã„ã¨å‹•ã‹ã›ãªã„\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Ch4\u003ESFNTã‚¢ã‚¯ã‚»ã‚¹ã®æ–¹\u003C\u002Fh4\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"language-javascript\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title class_\\\"\u003EAccess\u003C\u002Fspan\u003ESFNT = \u003Cspan class=\\\"hljs-keyword\\\"\u003Easync\u003C\u002Fspan\u003E () =&gt; {\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E fonts = navigator.\u003Cspan class=\\\"hljs-property\\\"\u003Efonts\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Equery\u003C\u002Fspan\u003E();\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E metadata \u003Cspan class=\\\"hljs-keyword\\\"\u003Eof\u003C\u002Fspan\u003E fonts) {\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E sfnt = \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E metadata.\u003Cspan class=\\\"hljs-title function_\\\"\u003Eblob\u003C\u002Fspan\u003E();\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E sfntVersion = (\u003Cspan class=\\\"hljs-keyword\\\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title class_\\\"\u003ETextDecoder\u003C\u002Fspan\u003E).\u003Cspan class=\\\"hljs-title function_\\\"\u003Edecode\u003C\u002Fspan\u003E(\\n      \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E sfnt.\u003Cspan class=\\\"hljs-title function_\\\"\u003Eslice\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E4\u003C\u002Fspan\u003E).\u003Cspan class=\\\"hljs-title function_\\\"\u003EarrayBuffer\u003C\u002Fspan\u003E()\\n    );\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Elet\u003C\u002Fspan\u003E outlineFormat = \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;UNKNOWN&#x27;\u003C\u002Fspan\u003E;\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Eswitch\u003C\u002Fspan\u003E (sfntVersion) {\\n      \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;\\\\x00\\\\x01\\\\x00\\\\x00&#x27;\u003C\u002Fspan\u003E:\\n      \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;true&#x27;\u003C\u002Fspan\u003E:\\n      \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;typ1&#x27;\u003C\u002Fspan\u003E:\\n        outlineFormat = \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;.ttf&#x27;\u003C\u002Fspan\u003E;\\n\\t\u003Cspan class=\\\"hljs-keyword\\\"\u003Ebreak\u003C\u002Fspan\u003E;\\n      \u003Cspan class=\\\"hljs-keyword\\\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;OTTO&#x27;\u003C\u002Fspan\u003E:\\n        outlineFormat = \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;.cff&#x27;\u003C\u002Fspan\u003E;\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Ebreak\u003C\u002Fspan\u003E;\\n    }\\n    \u003Cspan class=\\\"hljs-variable language_\\\"\u003Econsole\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003Elog\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;Format Extension:&#x27;\u003C\u002Fspan\u003E, outlineFormat, metadata.\u003Cspan class=\\\"hljs-property\\\"\u003Efamily\u003C\u002Fspan\u003E);\\n  }\\n}\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E access = \u003Cspan class=\\\"hljs-variable language_\\\"\u003Edocument\u003C\u002Fspan\u003E.\u003Cspan class=\\\"hljs-title function_\\\"\u003EgetElementById\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;access&quot;\u003C\u002Fspan\u003E);\\naccess.\u003Cspan class=\\\"hljs-title function_\\\"\u003EaddEventListener\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;click&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-title class_\\\"\u003EAccess\u003C\u002Fspan\u003ESFNT); \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‹•ä½œãŒãªã„ã¨å‹•ã‹ã›ãªã„\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Ch1\u003Eçµ‚ã‚ã‚Šã«\u003C\u002Fh1\u003E\\n\u003Cp\u003Eæœ€åˆã«è¨˜äº‹ã‚’æ›¸ã„ãŸã¨ãã¯æœ¬æ°—ã§ä½•ã«ä½¿ã†ã®ã‹åˆ†ã‹ã‚‰ãªã„APIã§ã—ãŸãŒã€ã©ã†ã‚„ã‚‰Figmaã¨ã‹ãã®ä»–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€CADã«ç‰¹åŒ–ã—ãŸãƒ•ã‚©ãƒ³ãƒˆã‚’Webã§ä½¿ã†éš›ã«å½¹ç«‹ã¤ã‚ˆã†ã§ã™ã€‚\u003C\u002Fp\u003E\\n\u003Cblockquote\u003E\\n\u003Cp\u003EBringing design apps like Figma, Gravit, and Photopea, to the web is great.\u003Cbr\u003E\\nFor example, corporate logo fonts, or specialized fonts for CAD and other design applications.\u003C\u002Fp\u003E\\n\u003C\u002Fblockquote\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fupdates\u002F2020\u002F11\u002Fnic87#font-access\\\"\u003Ehttps:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fupdates\u002F2020\u002F11\u002Fnic87#font-access\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Ch3\u003Eå‚è€ƒæ–‡çŒ®\u003C\u002Fh3\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwicg.github.io\u002Flocal-font-access\u002F#current-language\\\"\u003EWICGä»•æ§˜æ›¸\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fweb.dev\u002Flocal-fonts\u002F\\\"\u003EWeb.devãƒãƒ¼ãƒ ãƒ–ãƒ­ã‚°(æœ€åˆã«èª­ã‚€ãªã‚‰ã“ã‚Œ)\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fglitch.com\u002F~local-font-access\\\"\u003EWeb.devãƒãƒ¼ãƒ Glitchãƒ‡ãƒ¢\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fupdates\u002F2020\u002F11\u002Fnic87\\\"\u003EChrome87ã®æ–°æ©Ÿèƒ½ã¾ã¨ã‚(å…¬å¼)\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwww.chromestatus.com\u002Ffeature\u002F6234451761692672\\\"\u003EChrome Platform Status\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fchromium.googlesource.com\u002Fchromium\u002Fsrc\u002F+\u002Flkgr\u002Fdocs\u002Fsecurity\u002Fpermissions-for-powerful-web-platform-features.md\\\"\u003EAPIã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹Chromeã®æ–‡çŒ®\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fnixeneko.hatenablog.com\u002Fentry\u002F2018\u002F06\u002F20\u002F000000\\\"\u003Ehttps:\u002F\u002Fnixeneko.hatenablog.com\u002Fentry\u002F2018\u002F06\u002F20\u002F000000\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\"}"}</script>
		</div>
	</body>
</html>
